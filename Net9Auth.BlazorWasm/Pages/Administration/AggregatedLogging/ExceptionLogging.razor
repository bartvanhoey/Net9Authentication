@using Microsoft.AspNetCore.Components.QuickGrid

@page "/admin/exception-logging"

<PageTitle>ExceptionLog Overview</PageTitle>

<h1>ExceptionLog Overview</h1>

<div class="mb-3">
    <a href="/admin">Go to Administration Page</a>
</div>

<hr/>

<AddExceptionLog OnExceptionLogCreated="ExceptionLogCreated_Handler"/>


<div class="table-responsive">
    <QuickGrid ItemsProvider="@_exceptionLogsProvider" Virtualize="true" Pagination="@_pagination" Class="table">
        <TemplateColumn Title="Actions">
            <button class="btn btn-primary" @onclick="@(() => GotoDetail(context))">Detail</button>
        </TemplateColumn>
        <PropertyColumn Property="@(p => p.ExceptionType)" Title="Exception Type" Sortable="true"/>
        <PropertyColumn Property="@(p => p.ApplicationName)" Title="Application" Sortable="true"/>
        <PropertyColumn Property="@(p => p.ClassName)" Title="Class Name" Sortable="true"/>
        <PropertyColumn Property="@(p => p.MethodName)" Title="Method Name" Sortable="true"/>
        <PropertyColumn Property="@(p => p.InsertTime)" Title="Inserted at" Sortable="true"/>
        <PropertyColumn Property="@(p => p.ExceptionFrequency)" Title="Fcy" Sortable="true"/>
    </QuickGrid>
</div>

<Paginator State="@_pagination"/>

